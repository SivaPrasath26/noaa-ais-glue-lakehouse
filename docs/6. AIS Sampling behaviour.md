# AIS Sampling Behaviour – Jan 2024 Window

# AIS Sampling Behaviour – Jan 2024 Window

## Purpose
- Document how the current trajectory sampling behaves on the January 2024 window.
- Use MMSI 367515090 (2024-01-02) as a concrete example.
- Show the gap between staging and curated when movement is brief/low speed.
- List options to adjust fidelity vs. file size.

## Scope
- Curated trajectory_points after sampling:

| Date       | Rows     | MMSI distinct |
|------------|----------|---------------|
| 2024-01-01 | 361,320  | 14,868        |
| 2024-01-02 | 365,921  | 15,130        |

- Focus MMSI for detailed review: 367515090 on 2024-01-02

## Staging Evidence (MMSI 367515090, 2024-01-02)

| Metric                    | Value |
|---------------------------|-------|
| Total rows                | 1,223 |
| Rows with SOG > 0.5       | 41    |
| Rows with movementflag=1  | 95    |
| Rows effectively anchored | 1,128 |

## Movement Window
- Actual movement is a short, low-speed burst around 19:46–20:16 UTC.
- Example SOGs in that burst:

| Time (UTC) | SOG |
|------------|-----|
| 19:47:18   | 0.6 |
| 19:48:28   | 2.6 |
| 19:49:39   | 4.0 |
| 20:04:59   | 0.5 |
| 20:06:08   | 0.6 |
| 20:14:29   | 4.8 |
| 20:15:37   | 3.9 |

- Outside this window the vessel is effectively anchored.

## Curated Outcome

| Metric                     | Value |
|----------------------------|-------|
| Curated rows (after sample)| 25    |
| Moving rows                | 1     |
| Anchored rows              | 24    |

- Cause: sampling retains one point per slow bucket (30-minute cadence for low-speed movement). The entire burst fits in one slow bucket, so only one moving point remains; anchored points are sparsely retained.

## Impact
- Aggregations and state continuity: acceptable.
- Path fidelity for short, low-speed bursts: low; the burst collapses to a single hop.

## Options to Preserve Short Moves (controlled growth)
1. Reduce slow_interval_min from 30 to ~10 minutes (fast can remain 10) so 20–30 minute bursts yield multiple points.
2. Classify movement using movementflag = 1 or SOG > 0.1 to avoid treating low-speed rows as anchored.
3. Keep first and last per moving bucket to preserve short segments.

## Recommendation
- For improved path fidelity on brief low-speed moves: apply option 1 and optionally 3; include option 2 if very low-speed movement must be retained.
- For aggressive downsampling where short-burst detail is not required: retain current settings.
